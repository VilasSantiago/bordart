<script>
    document.addEventListener('DOMContentLoaded', () => {
        const whatsappBtn = document.getElementById('whatsappBtn');
        const footer = document.getElementById('footer');

        // Si no existe el botón o el footer, no hacemos nada
        if (!whatsappBtn || !footer) return;

        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        // Cuando el footer es visible, ocultamos el botón flotante
                        whatsappBtn.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
                    } else {
                        // Cuando el footer deja de ser visible, volvemos a mostrar el botón
                        whatsappBtn.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
                    }
                });
            },
            {
                root: null,
                threshold: 0.1,
            }
        );

        observer.observe(footer);
    });
</script>

<a 
    href="https://api.whatsapp.com/send?phone=5492915050471" 
    target="_blank" 
    rel="noopener noreferrer"
    id="whatsappBtn" 
    class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full 
    shadow-lg hover:shadow-xl transition-all duration-300 z-50 flex items-center justify-center
    transform hover:scale-110">
    <img src="/assets/whatsapp-color.svg" alt="WhatsApp" class="w-8 h-8">
</a>